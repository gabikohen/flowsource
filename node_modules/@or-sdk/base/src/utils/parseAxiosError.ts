import { AxiosError, AxiosResponse } from 'axios';

const parseAxiosError = (e: AxiosError): Error => {
  let res;

  if (e.response as AxiosResponse) {
    const responseData = (e as any).response.data;
    const responseMessage = responseData.message;
    const responseError = responseData.error;
    res = responseMessage || responseError || responseData;
  } else if (e.request) {
    res = e.request;
  } else {
    res = e.message;
  }

  return new Error(res);
};

export default parseAxiosError;
