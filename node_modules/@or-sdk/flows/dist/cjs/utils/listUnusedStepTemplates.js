"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function listUnusedStepTemplates(source) {
    var _a, _b;
    var treesObj = ((_a = source === null || source === void 0 ? void 0 : source.data) === null || _a === void 0 ? void 0 : _a.trees) || {};
    var trees = Object.keys(treesObj).map(function (key) { return treesObj[key].steps; });
    var stepTemplates = ((_b = source === null || source === void 0 ? void 0 : source.data) === null || _b === void 0 ? void 0 : _b.stepTemplates) || [];
    var usedTemplateIds = trees.reduce(function (acc, tree) {
        tree.forEach(function (step) {
            if (acc.indexOf(step.type) === -1) {
                acc.push(step.type);
            }
        });
        return acc;
    }, []);
    return stepTemplates.filter(function (template) { return usedTemplateIds.indexOf(template.id) === -1; });
}
exports.default = listUnusedStepTemplates;
//# sourceMappingURL=listUnusedStepTemplates.js.map